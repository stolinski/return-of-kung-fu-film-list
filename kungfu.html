<!-- simple-todos.html -->
<head>
  <title>Todo List</title>
  <link href='http://fonts.googleapis.com/css?family=Passion+One' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
</head>

<body>
  <header>
    <h1>Kung Fu Film List</h1>

    {{> loginButtons}}

    {{#if isAdmin}}
      <form class="new-task">
        <input type="text" name="name" placeholder="Five Deadly Venoms" required/>
        <input type="number" name="year" min="1960" max="2020" placeholder="1978"/>
        <select name="studio" id="studio" required>
            <option value="Shaw Brothers">Shaw Brothers</option>
        </select>
        <input type="number" name="rating" min="0" max="10"/>
        <input type="submit" value="Submit">
      </form>
    {{/if}}

  </header>

  <div class="container">
    <ul>
      <li class="film-listing table-header">
        <span class="year">Year</span>
        <span class="name">Title</span>
        <span class="studio">Studio</span>
        <span class="rating">Rating</span>
        <span class="controls">Controls</span>
      </li>
      {{#each tasks}}
        {{> task}}
      {{/each}}
    </ul>

    <div class="details-modal {{#if detailModal}}open{{/if}}" style="background-image:url({{details.backdrop}});">
      <span class="detail-modal-close">&times;</span>
      {{#if details.poster}}
        <img src="{{details.poster}}" alt="" class="poster">
      {{/if}}

      <div class="detail-text">
        <h3>{{details.name}}</h3>
        <p>
          Run Time: {{details.runtime}} min | Original Release: {{details.release_date}}
        </p>
        {{#if details.overview}}
          <p>
            {{details.overview}}
          </p>
        {{/if}}
      </div>

    </div>

  </div>
</body>

<template name="task">
  <li class="film-listing">
    <span class="year">{{year}}</span>
    <span class="name">{{name}}</span>
    <span class="studio">
        {{#if studio}}
            {{studio}}
        {{else}}
            Studio Unknown
        {{/if}}
    </span>
    <span class="rating">
        {{#if rating}}
            {{rating}}
        {{else}}
            Not Yet Rated
        {{/if}}
    </span>
    <span class="controls">
        <button class="delete">&times;</button>
    </span>
  </li>
</template>